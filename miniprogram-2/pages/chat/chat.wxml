<view class="container">
  <scroll-view class="chat-list" scroll-y>
    <view class="message" wx:for="{{chatData}}" wx:key="id">
      <view class="user-info" wx:if="{{item.type === 'user'}}">
        <text class="message-text">{{item.message}}</text>
        <image class="user-avatar" src="https://pic1.zhimg.com/50/v2-6afa72220d29f045c15217aa6b275808_hd.jpg?source=1940ef5c" />
      </view>
      <view class="robot-info" wx:if="{{item.type === 'robot'}}">
        <image class="robot-avatar" src="https://th.bing.com/th/id/OIP.z1cfZpjDF5UbPSvYRYW-rQAAAA?pid=ImgDet&rs=1" />
        <text class="message-text">{{item.message}}{{item.showCursor ? ' ' : ''}}</text>
        <text class="cursor" wx:if="{{item.showCursor}}" style="left: {{item.message.length > 0 ? 'auto' : '60px'}}"></text>
      </view>
    </view>
  </scroll-view>
  <view class="input-container">
    <input
      class="input"
      placeholder="请输入内容"
      value="{{inputValue}}"
      bindinput="onInput"
      confirm-type="send"
      bindconfirm="onSend"
    />
    <button
      class="send-button"
      bindtap="onSend"
      style="width: 220rpx; height: 57rpx; display: block; box-sizing: border-box; left: 0rpx; top: 0rpx"
      disabled="{{isRobotReplying}}"
    >
      {{sendButtonText || "发送"}}
    </button>
  </view>
</view>
